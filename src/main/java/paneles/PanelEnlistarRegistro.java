/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package paneles;

import graficos.MenuPrincipal;
import static graficos.MenuPrincipal.contenedorPanel;
import java.awt.BorderLayout;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.border.LineBorder;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableModel;
import registros.RegistroDatos;

/**
 *
 * @author grifiun
 */
public class PanelEnlistarRegistro extends javax.swing.JPanel {
    private String[] nombreTablas = {"Tienda", "Empleado", "Cliente", "Producto", "Compra", "Pedido", "Tiempo_envio"};
    private String[][] nombreColumnas = { "Cod. Tienda,Nombre,Direccion,Telefono,Telefono 2,Horario,Correo".split(","),
        "Cod. Empleado,Nombre,DPI,Correo,Direccion,NIT,Telefono,Trabaja en".split(","),
        "NIT,Nombre,Telefono,Correo,Direccion,DPI,Credito".split(","),
        "Cod. Producto,Cantidad,Precio,Nombre,Fabricante,Descripcion,Garantia,Se encuentra en".split(","),
        "Cod. Compra,Efectivo usado,Credito usado,Precio Total,Cod. Tienda de compra,NIT Cliente,Cod. Pedido".split(","),
        "Cod. Pedido,Estado,Fecha de pedido,Anticipo,Cod. Tienda 1,Cod. Tienda2,Cod. Tienda Destino,NIT Cliente".split(","),
        "Cod. Tienda 1,Cod. Tienda 2,Tiempo entre tiendas".split(",")};
    
    private JPanel panelParaTabla;    
    
    /**
     * Creates new form PanelEnlistarRegistro
     */
    public PanelEnlistarRegistro() {
        initComponents();
        prepararPanelTabla();
                
        prepararTabla(nombreTablas[0], nombreColumnas[0]);
    }

    /**
     * Funcion que actualizara la tabla con la informacion
     * de la tabla elegida
     * @param nombreTabla 
     */
    public void prepararTabla(String nombreTabla, String[] tituloColumnas){ 
        RegistroDatos regD = new RegistroDatos();
        TableModel model = new DefaultTableModel(regD.obtenerDatos(nombreTabla), tituloColumnas)
            {
              public boolean isCellEditable(int row, int column)
              {
                return false;//dehabilitamos la edicion
              }
            };
        JTable tablaAux;        
        tablaAux = new JTable(model);   
        tablaAux.setLayout(null);
        tablaAux.setBounds(0, 0, 980, 478);
        
        tablaAux.setAutoCreateRowSorter(true);       
        
        panelParaTabla.setLayout(new BorderLayout());
        panelParaTabla.add(tablaAux.getTableHeader(), BorderLayout.PAGE_START);
        panelParaTabla.add(tablaAux, BorderLayout.CENTER);        
    }
    
    public void prepararPanelTabla(){
        panelParaTabla = new JPanel();
        panelParaTabla.setLayout(null);
        panelParaTabla.setBounds(30, 38, 980, 478);
        this.add(panelParaTabla);       
       
    }
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        btnCargar = new javax.swing.JButton();
        comboBoxTabla = new javax.swing.JComboBox<>();
        btnRegresar = new javax.swing.JButton();

        jLabel1.setFont(new java.awt.Font("Ubuntu", 1, 24)); // NOI18N
        jLabel1.setText("LISTADOS");

        btnCargar.setText("Cargar");
        btnCargar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCargarActionPerformed(evt);
            }
        });

        comboBoxTabla.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Tienda", "Empleado", "Cliente", "Producto", "Compra", "Pedido", "Tiempo entre tiendas" }));
        comboBoxTabla.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                comboBoxTablaActionPerformed(evt);
            }
        });

        btnRegresar.setText("regresar");
        btnRegresar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRegresarActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel1))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(497, 497, 497)
                        .addComponent(btnRegresar, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnCargar, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(comboBoxTabla, javax.swing.GroupLayout.PREFERRED_SIZE, 259, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 479, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnCargar)
                    .addComponent(comboBoxTabla, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnRegresar))
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents

    private void btnRegresarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRegresarActionPerformed
        PanelEmpleado panelEmpleado = new PanelEmpleado();
        MenuPrincipal.cargarPanel(panelEmpleado);
    }//GEN-LAST:event_btnRegresarActionPerformed

    private void btnCargarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCargarActionPerformed
       panelParaTabla.removeAll();
       prepararTabla(nombreTablas[comboBoxTabla.getSelectedIndex()], nombreColumnas[comboBoxTabla.getSelectedIndex()]);
       panelParaTabla.updateUI();//refrescamos el panel
    }//GEN-LAST:event_btnCargarActionPerformed

    private void comboBoxTablaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_comboBoxTablaActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_comboBoxTablaActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnCargar;
    private javax.swing.JButton btnRegresar;
    private javax.swing.JComboBox<String> comboBoxTabla;
    private javax.swing.JLabel jLabel1;
    // End of variables declaration//GEN-END:variables
}
